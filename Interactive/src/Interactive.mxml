<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" 
	layout="absolute"
	width="800"
	height="512" 
	creationComplete="init();" xmlns:v="br.com.optimedia.interactive.view.components.*"
	xmlns:flash="flash.text.*">
	
	<mx:Script>
		<![CDATA[
			import mx.rpc.events.ResultEvent;
		
		import flash.net.URLLoader;
    		import flash.net.URLRequest;
    		import flash.text.StyleSheet;
    		import flash.events.IOErrorEvent;
		    import flash.events.Event;
		    import flash.events.MouseEvent;


			import mx.controls.Alert;
			import br.com.optimedia.interactive.InteractiveFacade;
			
			import mx.styles.StyleManager;
		
			public var interactiveFacade: InteractiveFacade;
			
			[Bindable]
    		public var idPresentation:Number;
    		
    		[Bindable]
    		public var idSlide:uint = 0;
    		
    		[Bindable]
    		public var showNavegation:Boolean;
    		
    		//public var sheet:StyleSheet;
    		
    		public function start(_idPresentation:uint, _idSlide:uint):void {
    			
    			if (_idPresentation) {
    				idPresentation = _idPresentation;
    			}else {
    				idPresentation = this.parameters._presentation;
    			}
				if (_idSlide) {
					idSlide = _idSlide;
				}else {
					idSlide = this.parameters._idSlide;
				}
				//showNavegation = this.parameters._navegation
				
    			
    			this.interactiveFacade = InteractiveFacade.getInstance();
				this.interactiveFacade.startup( this );
    		}
			
			private function init(): void {
				this.menuView.visible=false;
				this.httpService.send();
				
			}
			public function httpService_result(event:ResultEvent):void {
                styleSh.parseCSS(event.result as String);
            }
			
		]]>
	</mx:Script>
	<flash:StyleSheet id="styleSh" />
  	<mx:HTTPService id="httpService"
	url="br/com/optimedia/interactive/css/style2.css"
	resultFormat="text"
	result="httpService_result(event);"
	 />	
	<v:SlideView id="slideView" width="100%" height="100%"  visible="false"/>
	<v:NavigatorView id="navigatorView" width="100%" visible="false" bottom="0"/>
	<v:MidiaView id="midiaViewObj" width="98%"  height="93%" y="0" visible="false" horizontalCenter="0"/>
	<v:MenuView id="menuView" width="200" height="430"   visible="false" y="50" x="10"/>
	<mx:Button x="725" y="480" label="Button" click="start(1,0)"/>
</mx:Application>