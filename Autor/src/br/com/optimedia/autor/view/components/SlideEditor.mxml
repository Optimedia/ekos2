<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%"
	xmlns:components="br.com.optimedia.autor.view.components.*" creationComplete="init()">
	
	<mx:Script>
		<![CDATA[
			import br.com.optimedia.autor.assets.vo.SlideVO;
			import br.com.optimedia.autor.assets.vo.PresentationVO;
			import br.com.optimedia.autor.AutorFacade;
			
			private var autorFacade:AutorFacade = AutorFacade.getInstance();
			
			[Bindable]
			public var presentationVO:PresentationVO = new PresentationVO();
			
			private function init():void {
				autorFacade.startup( this );
				
				slideSelector.addEventListener("editSlide", editSlide);
			}
			
			private function editSlide(e:Event):void {
				viewStack.selectedIndex = 1;
				
				textEditor.addEventListener("closeTextEditor", closeTextEditor);
				
				textEditor.slideVO = slideSelector.slideVO;
				textEditor.slideNum = slideSelector.slideNum;
			}
			
			private function closeTextEditor(e:Event):void {
				viewStack.selectedIndex = 0;
				textEditor.slideVO = new SlideVO();
			}
			
			
			
		]]>
	</mx:Script>
	
	<mx:Button id="backBtn" label="Voltar" />
	
	<mx:HBox width="100%" height="100%">
		
		<mx:ViewStack id="viewStack" width="100%" height="100%">
		
			<components:SlideSelector id="slideSelector" presentationVO="{presentationVO}"/>
			
			<components:TextEditor id="textEditor"/>
			
		</mx:ViewStack>
		
		<components:RepositoryPanel id="repositoryPanel" />
		
	</mx:HBox>
	
</mx:VBox>
